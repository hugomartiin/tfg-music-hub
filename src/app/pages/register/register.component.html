<app-modal [visible]="true" (close)="close()">
    <h2 class="text-2xl font-bold mb-6 text-center">Registrarse</h2>

    <form (ngSubmit)="register()" #registerForm="ngForm" class="flex flex-col gap-4" *ngIf="!successMsg">
        <input type="text" name="firstName" [(ngModel)]="firstName" placeholder="Nombre" required
            class="p-3 border rounded-md dark:bg-zinc-800 dark:text-white" [disabled]="loading" />
        <input type="text" name="lastName" [(ngModel)]="lastName" placeholder="Apellidos" required
            class="p-3 border rounded-md dark:bg-zinc-800 dark:text-white" [disabled]="loading" />
        <input type="email" name="email" [(ngModel)]="email" placeholder="Correo electrónico" required
            class="p-3 border rounded-md dark:bg-zinc-800 dark:text-white" [disabled]="loading" />
        <input type="password" name="password" [(ngModel)]="password" placeholder="Contraseña" required minlength="6"
            class="p-3 border rounded-md dark:bg-zinc-800 dark:text-white" [disabled]="loading" />
        <input type="password" name="confirmPassword" [(ngModel)]="confirmPassword" placeholder="Confirmar contraseña"
            required minlength="6" class="p-3 border rounded-md dark:bg-zinc-800 dark:text-white"
            [disabled]="loading" />

        <button type="submit" [disabled]="registerForm.invalid || loading"
            class="bg-purple-600 text-white py-3 rounded-md hover:bg-purple-700 disabled:opacity-50">
            {{ loading ? 'Creando cuenta...' : 'Registrar' }}
        </button>
    </form>

    <p *ngIf="errorMsg" class="mt-4 text-red-600 text-center">{{ errorMsg }}</p>
    <p *ngIf="successMsg" class="mt-4 text-green-600 text-center">{{ successMsg }}</p>
</app-modal>