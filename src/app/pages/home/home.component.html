<div class="relative min-h-screen bg-[#0e0e24] text-white overflow-hidden font-inter">
    <!-- Hero background -->
    <div class="absolute inset-0 z-0 bg-cover bg-center bg-fixed opacity-10 pointer-events-none"
        style="background-image: url('/topography.svg');">
    </div>



    <!-- Hero section -->
    <section class="relative z-10 flex flex-col justify-center items-center text-center py-14 px-4" data-aos="fade-up">
        <a [routerLink]="'/'" class="transition-transform hover:scale-105 mb-10">
            <img src="logo-musichub.png" alt="MusicHub Logo" class="h-20 md:h-28 object-contain drop-shadow-xl" />
        </a>

        <h1
            class="text-5xl md:text-7xl font-extrabold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-[#a855f7] to-[#f97316]">
            Explora tu mundo musical
        </h1>

        <p class="text-lg md:text-xl text-gray-300 mb-10 max-w-xl">
            Busca artistas, álbumes y descubre ediciones físicas con Discogs y Deezer.
        </p>

        <!-- Search bar -->
        <div class="w-full md:w-auto">
            <app-search-bar #searchBlock [(model)]="searchValue" (search)="onSearch($event)"
                (queryChange)="onQueryChange($event)">
            </app-search-bar>

            <!-- Loading indicator -->
            <div *ngIf="loading" class="flex justify-center mt-4">
                <div class="w-6 h-6 border-4 border-white border-t-transparent rounded-full animate-spin"></div>
            </div>

            <!-- No resultados -->
            <p *ngIf="!loading && hasSearched && topResults.length === 0" class="text-gray-400 text-center mt-4">
                No se encontraron resultados para tu búsqueda.
            </p>

            <!-- Resultadoas -->
            <div *ngIf="topResults.length" class="mt-4 space-y-2 text-left max-w-md mx-auto">
                <h3 class="text-lg text-gray-400 mb-2">Resultados principales:</h3>

                <div *ngFor="let item of topResults"
                    class="group bg-white/10 hover:bg-white/20 rounded-lg p-3 flex items-center gap-4 transition cursor-pointer relative"
                    (click)="goToDetail(item)">

                    <!--Imagen -->
                    <img [src]="getImage(item)" alt="{{ getTitle(item) }}" class="w-12 h-12 rounded" />

                    <!--Info -->
                    <div class="flex-1 min-w-0">
                        <p class="text-white font-semibold truncate">{{ getTitle(item) }}</p>
                        <p class="text-sm text-gray-400 truncate">{{ getSubtitle(item) }}</p>
                    </div>

                    <span
                        class="text-xs px-2 group-hover:opacity-0  py-1 bg-white/20 rounded-full text-gray-300 capitalize">
                        {{ item.type }}
                    </span>

                    <!-- Botón de preview (solo si es track) -->
                    <div *ngIf="isTrack(item)" (click)="$event.stopPropagation()"
                        class="absolute right-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition duration-300">
                        <app-preview-button [previewUrl]="item.preview" [title]="item.title"
                            [artist]="item.artist?.name" [cover]="item.album?.cover_medium">
                        </app-preview-button>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- tarjetas -->
    <section class="relative z-10 py-20 px-6 bg-[#12122a] rounded-t-3xl shadow-inner" data-aos="fade-up"
        data-aos-delay="200">
        <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-10">
            <app-main-card title="Artistas" description="Encuentra información completa de tus artistas favoritos."
                image="artist4.jpg" hoverColor="purple-400" (onClick)="scrollToSearchInput('artist')"></app-main-card>

            <app-main-card title="Álbumes" description="Consulta álbumes populares y sus versiones físicas."
                image="album1.jpg" hoverColor="black" (onClick)="scrollToSearchInput('album')"></app-main-card>

            <app-main-card title="Playlists" description="Guarda tus favoritos y crea tus propias playlists."
                image="playlists1.jpg" hoverColor="orange-400"></app-main-card>

        </div>
    </section>

</div>